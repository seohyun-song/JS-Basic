<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delegate Event</title>
    <script src="js/jquery-3.5.1.min.js"></script>
    <script>
        $(document).ready(function(){
            //on() 메서드는 현재 존재하는 태그에만 이벤트를 연결함
            // $('h1').on('click', function(){
            //     var length = $('h1').length;
            //     var targetHTML = $(this).html();
            //     $('#wrap').append('<h1>'+length+'-'+targetHTML+'</h1>');
            // });

            /*
                상위태그에 이벤트를 연결하고 'h1 태그를 클릭했을 때'를 검출해서 새로생긴 h1태그에도 이벤트를 연결함
                $(selector).on(types, selector, function) selector매개변수로 이벤트 범위를 한정할 수 있음
                $(document).on(types, selector, function) 상위개념이 애매한 태그는 document객체에 이벤트를 연결함
            */
            $('#wrap').on('click','h1', function(){
                var length = $('h1').length;
                var targetHTML = $(this).html();
                $('#wrap').append('<h1>'+length+'-'+targetHTML+'</h1>');

                $('#wrap').off('click','h1');
            });
        });
    </script>
</head>
<body>
    <div id="wrap">
        <h1>Header</h1>
    </div>
</body>
</html>